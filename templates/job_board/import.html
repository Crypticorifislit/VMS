{% extends "base.html" %}

{% block title %}Import Tech Jobs{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/tech_jobs.css') }}">
{% endblock %}

{% block content %}
<div class="import-container">
    <!-- Import Type Section -->
    <section class="import-section">
        <h2>
            <i class="fa-solid fa-filter"></i>
            Import Type
        </h2>
        <div class="import-type-selector">
            <label class="import-type-option">
                <input type="radio" name="importType" value="tech_jobs" checked>
                <div class="option-content">
                    <i class="fa-solid fa-building"></i>
                    <div>
                        <h3>Tech Jobs</h3>
                        <p>Import company job listings</p>
                    </div>
                </div>
            </label>
            <label class="import-type-option">
                <input type="radio" name="importType" value="entry_level">
                <div class="option-content">
                    <i class="fa-solid fa-graduation-cap"></i>
                    <div>
                        <h3>Entry Level Positions</h3>
                        <p>Import entry level job positions</p>
                    </div>
                </div>
            </label>
        </div>
    </section>

    <!-- Quick Sync Section -->
    <section class="import-section">
        <h2>
            <i class="fa-solid fa-sync"></i>
            Quick Import
        </h2>
        <p>Import data from the default CSV files in the data directory.</p>
        <div class="quick-sync-actions">
            <button id="quickSyncBtn" class="sync-btn" data-type="tech_jobs">
                <i class="fa-solid fa-bolt"></i>
                Quick Import Tech Jobs
            </button>
            <button id="quickSyncEntryBtn" class="sync-btn" data-type="entry_level">
                <i class="fa-solid fa-bolt"></i>
                Quick Import Entry Level
            </button>
        </div>
    </section>

    <!-- Manual Upload Section -->
    <section class="import-section">
        <h2>
            <i class="fa-solid fa-upload"></i>
            Manual Upload
        </h2>
        <p>Upload a CSV file containing job listings data.</p>
        
        <div id="uploadContainer" class="upload-container">
            <div class="upload-content">
                <i class="fa-solid fa-file-csv"></i>
                <p>Drop your CSV file here</p>
                <span>or</span>
                <label for="fileInput" class="upload-btn">Choose File</label>
                <input type="file" id="fileInput" accept=".csv" hidden>
            </div>
        </div>
    </section>

    <!-- Progress Section -->
    <section id="progressSection" class="import-section" style="display: none;">
        <h2>
            <i class="fa-solid fa-spinner fa-spin"></i>
            Import Progress
        </h2>
        <div class="progress-container">
            <div class="progress-bar">
                <div id="importProgress" class="progress" style="width: 0%"></div>
            </div>
            <div class="progress-stats">
                Processing... <span id="processedCount">0</span> records
            </div>
        </div>
    </section>

    <!-- Results Section -->
    <section id="resultsSection" class="import-section" style="display: none;">
        <h2>
            <i class="fa-solid fa-chart-bar"></i>
            Import Results
        </h2>
        <div class="results-stats">
            <div class="stat-card success">
                <i class="fa-solid fa-check-circle"></i>
                <span id="successCount" class="stat-count">0</span>
                <span class="stat-label">Successful</span>
            </div>
            <div class="stat-card error">
                <i class="fa-solid fa-times-circle"></i>
                <span id="errorCount" class="stat-count">0</span>
                <span class="stat-label">Errors</span>
            </div>
        </div>
    </section>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/tech_jobs_import.js') }}"></script>
{% endblock %}

