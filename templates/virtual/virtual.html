{% extends "base.html" %}

{% block title %}Virtual{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/virtual.css') }}">
{% endblock %}

{% block content %}
<div class="virtual-container">
    <div class="page-header">
        <h1>Virtual</h1>
        <div class="header-actions">
            <a href="{{ url_for('virtual.import_virtual') }}" class="action-btn">
                <i class="fa-solid fa-file-import"></i> Import Virtual
            </a>
            <button class="action-btn purge-btn" onclick="showDeleteConfirmation()">
                <i class="fa-solid fa-trash-can"></i> Purge Virtual
            </button>
        </div>
    </div>

    <!-- Existing content here -->

</div>

<!-- Delete Confirmation Modal -->
<div id="deleteModal" class="modal-overlay" style="display: none;">
    <div class="confirm-modal">
        <h3 style="color: var(--delft-blue); margin-bottom: 1rem;">Confirm Purge</h3>
        <p style="margin-bottom: 1.5rem;">Are you sure you want to purge all virtual data? This action cannot be undone.</p>
        <div style="display: flex; gap: 1rem; justify-content: flex-end;">
            <button id="cancelDelete" class="cancel-btn">Cancel</button>
            <button id="confirmDelete" class="delete-btn">Purge</button>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
function showDeleteConfirmation() {
    document.getElementById('deleteModal').style.display = 'flex';
}

document.getElementById('cancelDelete').addEventListener('click', function() {
    document.getElementById('deleteModal').style.display = 'none';
});

document.getElementById('confirmDelete').addEventListener('click', function() {
    // Add your purge logic here
    window.location.href = "{{ url_for('virtual.purge_virtual') }}";
});
</script>
{% endblock %}
